# 2025-10-16 Devlog (Wave 1 Day 1)

## Highlights
- Kernel gRPC gateway now enforces signed metadata, blocking unsanctioned access paths and logging signature mismatches for audit trails.
- Added constant-time signature verification helpers with focused unit tests to keep the policy wall airtight.
- Documented the RPC signing contract so DX tooling and agents know how to authenticate direct kernel calls.

## Stream Updates
### Control Plane (CP)
- Yesterday: Policy seeds and quota enforcement shipped, but kernel access still trusted downstream services.
- Today: No code changes, but confirmed control plane metadata is compatible with the new kernel signature guard.
- Risks / Blockers: Need to plumb tenant metadata into orchestration events to preserve auditing end-to-end.
- Telemetry Links: Kernel logs now warn on signature mismatches (`services/horology-kernel/src/grpc.rs`).

### Horology Kernel (HK)
- Yesterday: Postgres-backed leader election and command logging without RPC authentication.
- Today: Added signed metadata verification, scope helpers, and unit tests guarding the policy wall.
- Risks / Blockers: Follow-up to attach request context to event envelopes for downstream consumers.
- Telemetry Links: `cargo test --manifest-path services/horology-kernel/Cargo.toml` covers signature helpers.

### Execution Mesh (EM)
- Yesterday: JetStream DLQ tooling running against unsigned kernel streams.
- Today: Pending – next step is to validate signatures on incoming kernel events before dispatch.
- Risks / Blockers: Awaiting kernel event envelope changes.
- Telemetry Links: _(pending)_

### Developer Experience (DX)
- Yesterday: Local environment guide missing kernel RPC auth guidance.
- Today: Updated docs to call out required headers for direct kernel clients.
- Risks / Blockers: Need CLI helpers to automatically sign ad-hoc kernel calls.
- Telemetry Links: `docs/devx/LOCAL_ENVIRONMENT.md` section on kernel RPC authentication.

### Governance
- Yesterday: Policy wall conceptually defined.
- Today: Kernel enforces signed headers, satisfying Wave 1 auth milestone.
- Risks / Blockers: Need event-level audit ledger tying signatures to execution outcomes.
- Telemetry Links: OTEL traces for gRPC rejections _(pending configuration)._ 

## Testing Summary
- ✅ command `cargo test --manifest-path services/horology-kernel/Cargo.toml`
- ⚠️ command `npm test -- --passWithNoTests` (no new Node changes in this slice)
- ⚠️ command `npm run build` (not re-run; unchanged packages)

## Decisions & Follow-ups
- Decision: Kernel rejects unsigned RPCs with `UNAUTHENTICATED` to keep the policy wall authoritative (owner: HK lead).
- Follow-up: Extend action orchestrator to validate kernel event signatures before executing bundles (owner: EM, due: 2025-10-20).
- Follow-up: Attach signed context to event envelopes so downstream consumers inherit tenant scope (owner: HK, due: 2025-10-22).
